<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/structure/bloodsucker/mirror - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/structure/bloodsucker/mirror.html#var">Var Details</a> - <a href="obj/structure/bloodsucker/mirror.html#proc">Proc Details</a></header><main><h1>mirror <aside>/<a href="obj.html">obj</a>/<a href="obj/structure.html">structure</a>/<a href="obj/structure/bloodsucker.html">bloodsucker</a>/<a href="obj/structure/bloodsucker/mirror.html">mirror</a></aside> <a href="https://github.com/QuiteLiterallyAnything/QLA_Fulpstation_Fork/blob/c42a4328d33acce72d4059ae5988ca0a0dcb2110/fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm#L27"><img src="git.png" width="16" height="16" title="fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm 27"></a></h1><p>Blood mirror, allows bloodsuckers to remotely observe their vassals. Vassals being observed gain red eyes.
Lots of code from regular mirrors has been copied over here for obvious reasons.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/structure/bloodsucker/mirror.html#var/change_observe">change_observe</a></th><td>The typepath of the action used to change the person observed while the mirror is active.</td></tr><tr><th><a href="obj/structure/bloodsucker/mirror.html#var/current_observed">current_observed</a></th><td>The mob currently being observed by someone using the mirror (if any.)</td></tr><tr><th><a href="obj/structure/bloodsucker/mirror.html#var/current_user">current_user</a></th><td>The mob currently using the mirror to observe someone (if any.)</td></tr><tr><th><a href="obj/structure/bloodsucker/mirror.html#var/in_use">in_use</a></th><td>Boolean indicating whether or not the mirror is actively being used to observe someone.</td></tr><tr><th><a href="obj/structure/bloodsucker/mirror.html#var/mirror_will_not_forget_this">mirror_will_not_forget_this</a></th><td>Boolean indicating whether or not the mirror is angry (see 'proc/katabasis' for more info.)</td></tr><tr><th><a href="obj/structure/bloodsucker/mirror.html#var/original_eye_color_left">original_eye_color_left</a></th><td>The original left eye color of the mob being observed.</td></tr><tr><th><a href="obj/structure/bloodsucker/mirror.html#var/original_eye_color_right">original_eye_color_right</a></th><td>The original right eye color of the mob being observed.</td></tr><tr><th><a href="obj/structure/bloodsucker/mirror.html#var/stop_observe">stop_observe</a></th><td>The typepath of the action used to stop observing someone with the mirror.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/structure/bloodsucker/mirror.html#proc/begin_observing">begin_observing</a></th><td>Proc used by blood mirrors to allow a user to see from the perspective of a target.</td></tr><tr><th><a href="obj/structure/bloodsucker/mirror.html#proc/can_reflect">can_reflect</a></th><td>Copied from 'mirror/proc/can_reflect()'</td></tr><tr><th><a href="obj/structure/bloodsucker/mirror.html#proc/check_observability">check_observability</a></th><td>Checks if 'current_observed' and 'current_user' meet observability criteria.
Returns TRUE only once all checks are passed.</td></tr><tr><th><a href="obj/structure/bloodsucker/mirror.html#proc/click_alt">click_alt</a></th><td>Default 'click_alt()' interaction overriden since mirrors are a unique case.</td></tr><tr><th><a href="obj/structure/bloodsucker/mirror.html#proc/katabasis">katabasis</a></th><td>The mirror is trapped, and this proc represents the trap's effects.
In short, it will deal moderate damage to its victim, teleport them to a random (mostly safe) location on the station,
give them a deep-rooted fear of blood, give them a severe negative moodlet, and then shatter itself.</td></tr><tr><th><a href="obj/structure/bloodsucker/mirror.html#proc/stop_observing">stop_observing</a></th><td>Proc used by blood mirrors to stop observing. Arguments default to 'current_user' and 'current_observed'</td></tr><tr><th><a href="obj/structure/bloodsucker/mirror.html#proc/swap_observed">swap_observed</a></th><td>Proc used by blood mirrors to swap to a different vassal while one is already being observed.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/change_observe"><aside class="declaration">var </aside>change_observe <aside>– /<a href="datum.html">datum</a>/<a href="datum/action.html">action</a>/<a href="datum/action/innate.html">innate</a>/mirror/observe_change</aside> <a href="https://github.com/QuiteLiterallyAnything/QLA_Fulpstation_Fork/blob/c42a4328d33acce72d4059ae5988ca0a0dcb2110/fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm#L58"><img src="git.png" width="16" height="16" title="fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm 58"></a></h3><p>The typepath of the action used to change the person observed while the mirror is active.</p><h3 id="var/current_observed"><aside class="declaration">var </aside>current_observed <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a></aside> <a href="https://github.com/QuiteLiterallyAnything/QLA_Fulpstation_Fork/blob/c42a4328d33acce72d4059ae5988ca0a0dcb2110/fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm#L54"><img src="git.png" width="16" height="16" title="fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm 54"></a></h3><p>The mob currently being observed by someone using the mirror (if any.)</p><h3 id="var/current_user"><aside class="declaration">var </aside>current_user <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a></aside> <a href="https://github.com/QuiteLiterallyAnything/QLA_Fulpstation_Fork/blob/c42a4328d33acce72d4059ae5988ca0a0dcb2110/fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm#L52"><img src="git.png" width="16" height="16" title="fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm 52"></a></h3><p>The mob currently using the mirror to observe someone (if any.)</p><h3 id="var/in_use"><aside class="declaration">var </aside>in_use <a href="https://github.com/QuiteLiterallyAnything/QLA_Fulpstation_Fork/blob/c42a4328d33acce72d4059ae5988ca0a0dcb2110/fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm#L50"><img src="git.png" width="16" height="16" title="fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm 50"></a></h3><p>Boolean indicating whether or not the mirror is actively being used to observe someone.</p><h3 id="var/mirror_will_not_forget_this"><aside class="declaration">var </aside>mirror_will_not_forget_this <a href="https://github.com/QuiteLiterallyAnything/QLA_Fulpstation_Fork/blob/c42a4328d33acce72d4059ae5988ca0a0dcb2110/fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm#L64"><img src="git.png" width="16" height="16" title="fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm 64"></a></h3><p>Boolean indicating whether or not the mirror is angry (see 'proc/katabasis' for more info.)</p><h3 id="var/original_eye_color_left"><aside class="declaration">var </aside>original_eye_color_left <a href="https://github.com/QuiteLiterallyAnything/QLA_Fulpstation_Fork/blob/c42a4328d33acce72d4059ae5988ca0a0dcb2110/fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm#L60"><img src="git.png" width="16" height="16" title="fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm 60"></a></h3><p>The original left eye color of the mob being observed.</p><h3 id="var/original_eye_color_right"><aside class="declaration">var </aside>original_eye_color_right <a href="https://github.com/QuiteLiterallyAnything/QLA_Fulpstation_Fork/blob/c42a4328d33acce72d4059ae5988ca0a0dcb2110/fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm#L62"><img src="git.png" width="16" height="16" title="fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm 62"></a></h3><p>The original right eye color of the mob being observed.</p><h3 id="var/stop_observe"><aside class="declaration">var </aside>stop_observe <aside>– /<a href="datum.html">datum</a>/<a href="datum/action.html">action</a>/<a href="datum/action/innate.html">innate</a>/mirror/observe_stop</aside> <a href="https://github.com/QuiteLiterallyAnything/QLA_Fulpstation_Fork/blob/c42a4328d33acce72d4059ae5988ca0a0dcb2110/fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm#L56"><img src="git.png" width="16" height="16" title="fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm 56"></a></h3><p>The typepath of the action used to stop observing someone with the mirror.</p><h2 id="proc">Proc Details</h2><h3 id="proc/begin_observing"><aside class="declaration">proc </aside>begin_observing<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/user, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/observed)  <a href="https://github.com/QuiteLiterallyAnything/QLA_Fulpstation_Fork/blob/c42a4328d33acce72d4059ae5988ca0a0dcb2110/fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm#L169"><img src="git.png" width="16" height="16" title="fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm 169"></a></aside></h3><p>Proc used by blood mirrors to allow a user to see from the perspective of a target.</p>
<p>Made using 'dullahan.dm', '_machinery.dm', 'camera_advanced.dm', 'drug_effects.dm', and a lot of
other files as references.</p><h3 id="proc/can_reflect"><aside class="declaration">proc </aside>can_reflect<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/target)  <a href="https://github.com/QuiteLiterallyAnything/QLA_Fulpstation_Fork/blob/c42a4328d33acce72d4059ae5988ca0a0dcb2110/fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm#L126"><img src="git.png" width="16" height="16" title="fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm 126"></a></aside></h3><p>Copied from 'mirror/proc/can_reflect()'</p><h3 id="proc/check_observability"><aside class="declaration">proc </aside>check_observability<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/user, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/observed)  <a href="https://github.com/QuiteLiterallyAnything/QLA_Fulpstation_Fork/blob/c42a4328d33acce72d4059ae5988ca0a0dcb2110/fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm#L250"><img src="git.png" width="16" height="16" title="fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm 250"></a></aside></h3><p>Checks if 'current_observed' and 'current_user' meet observability criteria.
Returns TRUE only once all checks are passed.</p><h3 id="proc/click_alt"><aside class="parent"><a title="/atom" href="atom.html#proc/click_alt">↑</a></aside>click_alt<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/QuiteLiterallyAnything/QLA_Fulpstation_Fork/blob/c42a4328d33acce72d4059ae5988ca0a0dcb2110/fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm#L101"><img src="git.png" width="16" height="16" title="fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm 101"></a></aside></h3><p>Default 'click_alt()' interaction overriden since mirrors are a unique case.</p><h3 id="proc/katabasis"><aside class="declaration">proc </aside>katabasis<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/victim, aggressive)  <a href="https://github.com/QuiteLiterallyAnything/QLA_Fulpstation_Fork/blob/c42a4328d33acce72d4059ae5988ca0a0dcb2110/fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm#L362"><img src="git.png" width="16" height="16" title="fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm 362"></a></aside></h3><p>The mirror is trapped, and this proc represents the trap's effects.
In short, it will deal moderate damage to its victim, teleport them to a random (mostly safe) location on the station,
give them a deep-rooted fear of blood, give them a severe negative moodlet, and then shatter itself.</p>
<ul>
<li>victim - The person affected by this proc.</li>
<li>aggressive - Increases mirror damage if true.</li>
</ul><h3 id="proc/stop_observing"><aside class="declaration">proc </aside>stop_observing<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/user, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/observed)  <a href="https://github.com/QuiteLiterallyAnything/QLA_Fulpstation_Fork/blob/c42a4328d33acce72d4059ae5988ca0a0dcb2110/fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm#L201"><img src="git.png" width="16" height="16" title="fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm 201"></a></aside></h3><p>Proc used by blood mirrors to stop observing. Arguments default to 'current_user' and 'current_observed'</p><h3 id="proc/swap_observed"><aside class="declaration">proc </aside>swap_observed<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/new_observed)  <a href="https://github.com/QuiteLiterallyAnything/QLA_Fulpstation_Fork/blob/c42a4328d33acce72d4059ae5988ca0a0dcb2110/fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm#L226"><img src="git.png" width="16" height="16" title="fulp_modules/features/antagonists/bloodsuckers/code/structures/bloodsucker_mirror.dm 226"></a></aside></h3><p>Proc used by blood mirrors to swap to a different vassal while one is already being observed.</p></main><footer>tgstation.dme <a href="https://github.com/QuiteLiterallyAnything/QLA_Fulpstation_Fork/tree/c42a4328d33acce72d4059ae5988ca0a0dcb2110">c42a432</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>